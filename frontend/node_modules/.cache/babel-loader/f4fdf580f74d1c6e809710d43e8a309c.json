{"ast":null,"code":"var _jsxFileName = \"/Users/esaserog/work/projects/goTennaEsa/frontend/src/components/App/App.js\";\nimport React from 'react';\nimport './App.css';\nimport { postCsv } from '../../services/CsvService.js';\nimport FileInput from '../FileInput/FileInput';\nimport Gallery from '../Gallery/Gallery';\nimport { Provider } from 'react-redux';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.fileInput = React.createRef();\n    this.state = {\n      file: null,\n      pictures: null,\n      batchId: null\n    };\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let file = this.fileInput.current.files[0];\n\n    if (file) {\n      this.setState({\n        file: file\n      });\n      let payload = new FormData(); //{file_name: file.name, content: file}\n\n      payload.append(\"file\", file);\n      postCsv(payload).then(response => {\n        this.setState({\n          pictures: response.data.pictures,\n          batchId: response.data.batch_id\n        });\n      });\n    } else {\n      alert(\"there is no file submitted!\");\n    }\n  }\n\n  render() {\n    const pictures = this.state.pictures;\n    return React.createElement(Provider, {\n      store: store,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(FileInput, {\n      file: this.state.file,\n      pictures: this.state.pictures,\n      batchId: this.state.batchId,\n      handleSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), React.createElement(Gallery, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/esaserog/work/projects/goTennaEsa/frontend/src/components/App/App.js"],"names":["React","postCsv","FileInput","Gallery","Provider","App","Component","constructor","props","fileInput","createRef","state","file","pictures","batchId","handleSubmit","event","preventDefault","current","files","setState","payload","FormData","append","then","response","data","batch_id","alert","render","store"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,WAAP;AACA,SAASC,OAAT,QAAwB,8BAAxB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,SAASC,QAAT,QAAyB,aAAzB;;AAEA,MAAMC,GAAN,SAAkBL,KAAK,CAACM,SAAxB,CAAkC;AAChCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,SAAL,GAAiBT,KAAK,CAACU,SAAN,EAAjB;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,IADK;AAEXC,MAAAA,QAAQ,EAAE,IAFC;AAGXC,MAAAA,OAAO,EAAE;AAHE,KAAb;AAKD;;AAGDC,EAAAA,YAAY,CAACC,KAAD,EAAQ;AAClBA,IAAAA,KAAK,CAACC,cAAN;AACA,QAAIL,IAAI,GAAG,KAAKH,SAAL,CAAeS,OAAf,CAAuBC,KAAvB,CAA6B,CAA7B,CAAX;;AAGA,QAAIP,IAAJ,EAAU;AACR,WAAKQ,QAAL,CAAc;AAACR,QAAAA,IAAI,EAAEA;AAAP,OAAd;AACA,UAAIS,OAAO,GAAG,IAAIC,QAAJ,EAAd,CAFQ,CAEqB;;AAC7BD,MAAAA,OAAO,CAACE,MAAR,CAAe,MAAf,EAAuBX,IAAvB;AACAX,MAAAA,OAAO,CAACoB,OAAD,CAAP,CAAiBG,IAAjB,CAAsBC,QAAQ,IAAI;AAChC,aAAKL,QAAL,CAAc;AACZP,UAAAA,QAAQ,EAAEY,QAAQ,CAACC,IAAT,CAAcb,QADZ;AAEZC,UAAAA,OAAO,EAAEW,QAAQ,CAACC,IAAT,CAAcC;AAFX,SAAd;AAID,OALD;AAMD,KAVD,MAUO;AACLC,MAAAA,KAAK,CAAC,6BAAD,CAAL;AACD;AACF;;AAEDC,EAAAA,MAAM,GAAG;AAAA,UACChB,QADD,GACc,KAAKF,KADnB,CACCE,QADD;AAEP,WACE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAEiB,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AACE,MAAA,IAAI,EAAE,KAAKnB,KAAL,CAAWC,IADnB;AAEE,MAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWE,QAFvB;AAGE,MAAA,OAAO,EAAE,KAAKF,KAAL,CAAWG,OAHtB;AAIE,MAAA,YAAY,EAAE,KAAKC,YAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAME,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF,CADF;AAYD;;AA9C+B;;AAiDlC,eAAeV,GAAf","sourcesContent":["import React from 'react';\n\nimport './App.css';\nimport { postCsv } from '../../services/CsvService.js';\nimport FileInput from '../FileInput/FileInput';\nimport Gallery from '../Gallery/Gallery';\nimport { Provider } from 'react-redux';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.fileInput = React.createRef();\n    this.state = {\n      file: null,\n      pictures: null,\n      batchId: null\n    };\n  }\n\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let file = this.fileInput.current.files[0];\n\n\n    if (file) {\n      this.setState({file: file});\n      let payload = new FormData();//{file_name: file.name, content: file}\n      payload.append(\"file\", file);\n      postCsv(payload).then(response => {\n        this.setState({\n          pictures: response.data.pictures,\n          batchId: response.data.batch_id\n        })\n      });\n    } else {\n      alert(\"there is no file submitted!\");\n    }\n  }\n\n  render() {\n    const { pictures } = this.state;\n    return (\n      <Provider store={store}>\n        <div className=\"App\">\n          <FileInput \n            file={this.state.file} \n            pictures={this.state.pictures} \n            batchId={this.state.batchId} \n            handleSubmit={this.handleSubmit}/>  \n          <Gallery />\n        </div>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}